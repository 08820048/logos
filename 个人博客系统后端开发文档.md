以下是**博客系统的完整需求文档**，博客为开源博客，所以需要处理好敏感数据得隐藏，避免提交到仓库。另外，这个博客名称为：**Logos**

------



```
# 博客系统需求文档

本项目为一个轻量、高性能的前后端分离博客系统，后端基于 Rust + MySQL 实现，前端可使用原生 HTML/CSS/JS 或任意前端框架，目标是在资源受限的服务器（1核1G）上也能快速运行。系统具备完整博客所需的核心功能模块，支持 Markdown 渲染、文章管理、评论、登录、标签、友情链接、全文搜索、RSS 订阅及后台管理。

---

## 🧱 技术选型

### 后端技术栈

- 语言：Rust
- Web 框架：`actix-web` 或 `axum`
- ORM：`sea-orm` 或 `diesel`
- 数据库：MySQL
- Markdown 渲染：`comrak`
- 认证机制：JWT
- JSON 序列化：`serde_json`

### 前端技术建议

- 纯 HTML + JS（无构建）：轻量、适合部署在 Nginx
- 或使用框架：如 Svelte / Vue / React（用于管理后台）
- Markdown 展示使用后端渲染好的 HTML

---

## 🧩 系统功能模块一览

| 模块           | 说明 |
|----------------|------|
| 📝 文章         | 创建/编辑/删除文章、Markdown 支持、分页展示、详情页 |
| 🏷️ 标签         | 标签管理、文章打标签、按标签筛选文章 |
| 🔍 搜索         | 全文搜索标题和内容 |
| 💬 评论         | 公开评论系统，支持邮箱 + 昵称，无需登录 |
| 🔗 友情链接      | 展示博客主推荐的外部链接 |
| 👤 登录认证      | 管理员登录，操作后台接口需权限验证（JWT） |
| 🛠️ 后台管理     | 图形化界面管理文章、标签、评论、链接等内容 |
| 📦 Markdown 渲染 | 文章内容保存 Markdown，并统一渲染为 HTML 展示 |
| 📡 RSS 支持     | 提供 RSS Feed 订阅（如 `/rss.xml`）|

---

## 📐 数据模型设计（简要）

```sql
-- 用户表（管理员）
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) NOT NULL,
  password_hash VARCHAR(255) NOT NULL
);

-- 文章表
CREATE TABLE posts (
  id INT PRIMARY KEY AUTO_INCREMENT,
  title VARCHAR(255) NOT NULL,
  content_md TEXT NOT NULL,
  content_html TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 标签表
CREATE TABLE tags (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50) UNIQUE NOT NULL
);

-- 文章-标签关联表
CREATE TABLE post_tags (
  post_id INT,
  tag_id INT,
  PRIMARY KEY (post_id, tag_id)
);

-- 评论表
CREATE TABLE comments (
  id INT PRIMARY KEY AUTO_INCREMENT,
  post_id INT NOT NULL,
  nickname VARCHAR(100),
  email VARCHAR(100) NOT NULL,
  content TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 友情链接表
CREATE TABLE links (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  url VARCHAR(255) NOT NULL
);
```



------





## **🔗 后端 API 接口设计（RESTful）**







### **📝 文章接口**



| **方法** | **路径**                   | **描述**           |
| -------- | -------------------------- | ------------------ |
| GET      | /api/posts?page=1&limit=10 | 分页获取文章列表   |
| GET      | /api/posts/{id}            | 获取文章详情       |
| POST     | /api/posts                 | 创建文章（需登录） |
| PUT      | /api/posts/{id}            | 更新文章（需登录） |
| DELETE   | /api/posts/{id}            | 删除文章（需登录） |



### **🏷️ 标签接口**



| **方法** | **路径**             | **描述**           |
| -------- | -------------------- | ------------------ |
| GET      | /api/tags            | 获取所有标签       |
| GET      | /api/tags/{id}/posts | 获取标签下的文章   |
| POST     | /api/tags            | 创建标签（需登录） |
| DELETE   | /api/tags/{id}       | 删除标签（需登录） |



### **🔍 搜索接口**



| **方法** | **路径**             | **描述**                       |
| -------- | -------------------- | ------------------------------ |
| GET      | /api/search?q=关键词 | 搜索文章标题与内容（模糊匹配） |



### **💬 评论接口**



| **方法** | **路径**                 | **描述**         |
| -------- | ------------------------ | ---------------- |
| GET      | /api/posts/{id}/comments | 获取文章下的评论 |
| POST     | /api/posts/{id}/comments | 提交评论（匿名） |

请求示例：

```
{
  "nickname": "访客昵称（可选）",
  "email": "邮箱（必填）",
  "content": "留言内容"
}
```



### **🔗 友情链接接口**



| **方法** | **路径**        | **描述**           |
| -------- | --------------- | ------------------ |
| GET      | /api/links      | 获取所有友情链接   |
| POST     | /api/links      | 添加链接（需登录） |
| DELETE   | /api/links/{id} | 删除链接（需登录） |



### **👤 登录认证接口（JWT）**



| **方法** | **路径**   | **描述**             |
| -------- | ---------- | -------------------- |
| POST     | /api/login | 登录，返回 JWT Token |

> 后台接口均需携带 Authorization: Bearer <token> 头部

### **📡 RSS 接口**

| **方法** | **路径** | **描述**                |
| -------- | -------- | ----------------------- |
| GET      | /rss.xml | 获取最新文章的 RSS Feed |

## **🌐 前端页面结构建议**

### **用户可访问页面**

- / 首页（文章列表）
- /post.html?id=xxx 文章详情页
- /tags.html 标签页
- /search.html?q=xxx 搜索结果页
- /about.html 关于页
- /links.html 友情链接页

### **管理后台页面**

- /admin/login.html 登录页
- /admin/posts.html 文章管理
- /admin/comments.html 评论管理
- /admin/tags.html 标签管理
- /admin/links.html 友情链接管理

---

## **⚙️ 开发与部署建议**

- 使用 cargo build --release 构建后端服务
- 使用 Nginx 提供前端页面与后端 API 代理
- 推荐数据库版本：MySQL 8+
- 配置 JWT 密钥、数据库连接等参数到 .env 文件中
- 限流与防刷建议使用中间件实现

## **📁 项目目录建议**



```
backend/
├── src/
│   ├── main.rs
│   ├── routes/
│   ├── handlers/
│   ├── models/
│   ├── services/
│   ├── db.rs
│   └── utils/
├── .env
├── Cargo.toml
```



------



文档生成日期：2025-06-13

